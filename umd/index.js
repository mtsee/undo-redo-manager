!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(function(){return(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.r(e),t.d(e,{default:()=>i});var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({limit:50,onChange:function(){}},e||{}),this._stacks=[],this._pointer=-1}var e,i,o;return e=t,(i=[{key:"current",get:function(){return this._stacks[this._pointer]}},{key:"canUndo",get:function(){return this._pointer>0}},{key:"canRedo",get:function(){return this._pointer<this._stacks.length-1}},{key:"count",get:function(){return this._stacks.length}},{key:"stacks",get:function(){return this._stacks}},{key:"destroy",value:function(){this._stacks=null,this.options=null,this._pointer=null}},{key:"add",value:function(t){return this._stacks.splice(this._pointer+1,this._stacks.length-this._pointer-1),this._stacks.length===this.options.limit?(this._stacks.shift(),this._pointer=this.options.limit-1):this._pointer++,this._stacks.push(t),this.options.onChange(this),this.current}},{key:"undo",value:function(){if(this.canUndo)return this._pointer--,this.options.onChange(this),this.current;console.warn("not can undo")}},{key:"redo",value:function(){if(this.canRedo)return this._pointer++,this.options.onChange(this),this.current;console.warn("not can redo")}}])&&n(e.prototype,i),o&&n(e,o),t}();return e})()}));